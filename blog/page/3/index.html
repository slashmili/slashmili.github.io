
<!DOCTYPE html>
<!--[if IEMobile 7 ]><html class="no-js iem7"><![endif]-->
<!--[if lt IE 9]><html class="no-js lte-ie8"><![endif]-->
<!--[if (gt IE 8)|(gt IEMobile 7)|!(IEMobile)|!(IE)]><!--><html class="no-js" lang="en"><!--<![endif]-->
<head>
  <meta charset="utf-8">
  <title>/mili</title>
  <meta name="author" content="Milad Rastian">

  
  <meta name="description" content="In some case you need to monitor your service, and SNMP is ROCKs in reporting.But if you don&#8217;t like to read bunch of document about SNMP &hellip;">
  

  <!-- http://t.co/dKP3o1e -->
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  
  <link rel="canonical" href="http://slashmili.org/blog/page/3">
  <link href="/favicon.png" rel="icon">
  <link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
  <link href="/atom.xml" rel="alternate" title="/mili" type="application/atom+xml">
  <script src="/javascripts/modernizr-2.0.js"></script>
  <script src="//ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
  <script>!window.jQuery && document.write(unescape('%3Cscript src="./javascripts/lib/jquery.min.js"%3E%3C/script%3E'))</script>
  <script src="/javascripts/octopress.js" type="text/javascript"></script>
  <!--Fonts from Google"s Web font directory at http://google.com/webfonts -->
<link href="http://fonts.googleapis.com/css?family=PT+Serif:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">
<link href="http://fonts.googleapis.com/css?family=PT+Sans:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">

  
  <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-45055199-1']);
    _gaq.push(['_trackPageview']);

    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
  </script>


</head>

<body   >
  <header role="banner"><hgroup>
  <h1><a href="/">/mili</a></h1>
  
    <h2>Lets try bloging again!</h2>
  
</hgroup>

</header>
  <nav role="navigation"><ul class="subscription" data-subscription="rss">
  <li><a href="/atom.xml" rel="subscribe-rss" title="subscribe via RSS">RSS</a></li>
  
</ul>
  
<form action="http://google.com/search" method="get">
  <fieldset role="search">
    <input type="hidden" name="q" value="site:slashmili.org" />
    <input class="search" type="text" name="q" results="0" placeholder="Search"/>
  </fieldset>
</form>
  
<ul class="main-navigation">
  <li><a href="/">Blog</a></li>
  <li><a href="/blog/archives">Archives</a></li>
</ul>

</nav>
  <div id="main">
    <div id="content">
      <div class="blog-index">
  
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2009/08/30/create-custom-snmp-tree-with-bash/">Create Custom SNMP Tree With Bash</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2009-08-30T00:00:00+08:00" pubdate data-updated="true">Aug 30<span>th</span>, 2009</time>
        
           | <a href="/blog/2009/08/30/create-custom-snmp-tree-with-bash/#disqus_thread"
             data-disqus-identifier="http://slashmili.org/blog/2009/08/30/create-custom-snmp-tree-with-bash/">Comments</a>
        
      </p>
    
  </header>


  <div class="entry-content"><div class='post'>
In some case you need to monitor your service, and SNMP is ROCKs in reporting.<div>But if you don&#8217;t like to read bunch of document about SNMP protocol and creating server flow this instructions.</div><div><br /></div><div>snmpd helps you so much with <b>pass</b> config, it run your command when request comes for  a exact MIB.</div><div>Just open /etc/snmpd.conf and add this line to end of config file :</div><div><div><code>pass .1.3.6.1.4.1.2021.256  /bin/sh /usr/local/snmp_script/snmp_asterisk</code></div><div><br /></div><div>With this config when you request snmp walk on .1.3.6.1.4.1.2021.256 returns this result :</div><code>$ snmpwalk -v 1 pbx -c public .1.3.6.1.4.1.2021.256<br />UCD-SNMP-MIB::ucdavis.256.1 = Gauge32: 3<br />UCD-SNMP-MIB::ucdavis.256.2 = Gauge32: 10<br />UCD-SNMP-MIB::ucdavis.256.3 = Gauge32: 1<br />UCD-SNMP-MIB::ucdavis.256.4 = Gauge32: 3<br />UCD-SNMP-MIB::ucdavis.256.5 = Gauge32: 3<br /></code><br /><div>Yes ! I monitored my asterisk&#8217;s important status.</div><div>Now what&#8217;s line of that bash script ? you can <b>locate passtest </b>and create your file from that sample but I put my file for more sample !</div></div><code>#!/bin/sh -f<br />PATH=$path:/bin:/usr/bin:/usr/ucb:/usr/local/snmp_script/<br />PLACE=".1.3.6.1.4.1.2021.256"<br />REQ="$2"<br /><br />if [ "$1" = "-s" ]; then<br />echo $* >> /tmp/passtest.log<br />exit 0<br />fi<br /><br />if [ "$1" = "-n" ]; then<br />case "$REQ" in<br />$PLACE)      RET=$PLACE.1 ;;<br />$PLACE.1)    RET=$PLACE.2 ;;<br />$PLACE.2)  RET=$PLACE.3 ;;<br />$PLACE.3)    RET=$PLACE.4 ;;<br />$PLACE.4)    RET=$PLACE.5 ;;<br />*)           exit 0 ;;<br />esac<br />else<br />case "$REQ" in<br />$PLACE)    exit 0 ;;<br />*)         RET=$REQ ;;<br />esac<br />fi<br /><br />echo "$RET"<br />case "$RET" in<br />$PLACE.1) echo "gauge"; echo `member_in_queue` ; exit 0 ;;<br />$PLACE.2) echo "gauge"; echo `number_of_answerd_call` ; exit 0 ;;<br />$PLACE.3) echo "gauge"; echo `number_of_missed_call`; exit 0 ;;<br />$PLACE.4) echo "gauge"; echo `rate_answerd_call` ;;<br />$PLACE.5) echo "gauge"; echo `rate_missed_call` ; exit 0 ;;<br />*) echo "string"; echo "ack... $RET $REQ"; exit 0 ;;<br />esac<br /></code><br /><br />You can use this MIBS in Monitoring System like Zenoss and &#8230;</div>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2009/08/12/samsung-galaxy-farsi-fonts-and-keyboard/">Samsung Galaxy Farsi Fonts and Keyboard</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2009-08-12T00:00:00+08:00" pubdate data-updated="true">Aug 12<span>th</span>, 2009</time>
        
           | <a href="/blog/2009/08/12/samsung-galaxy-farsi-fonts-and-keyboard/#disqus_thread"
             data-disqus-identifier="http://slashmili.org/blog/2009/08/12/samsung-galaxy-farsi-fonts-and-keyboard/">Comments</a>
        
      </p>
    
  </header>


  <div class="entry-content"><div class='post'>
After I change my G1 fonts to read farsi SMS and also farsi keyboard some one post me a comment which want from me to check if I could do same things on his <a href="http://tinyurl.com/lylnp2">Samsung Galaxy</a> .<div><br /></div><div>And now I do that staff. rooting Samsung Galaxy was bit little more difficult  than G1 !</div><div><br /></div><div><a onblur="try {parent.deselectBloggerImageGracefully();} catch(e) {}" href="http://rastian.com/mili/blog/uploaded_images/samsung_galaxy_persian-730788.png"><img src="http://rastian.com/mili/blog/uploaded_images/samsung_galaxy_persian-730786.png" border="0" alt="" style="cursor: pointer; width: 133px; height: 200px; " /></a><br /></div><div><br /></div><img src="http://anddev.ir/uploads/persian_keyboard_android0.png" /><div><br /></div></div>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2008/06/17/how-to-use-libjalali/">How to Use Libjalali</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2008-06-17T00:00:00+08:00" pubdate data-updated="true">Jun 17<span>th</span>, 2008</time>
        
           | <a href="/blog/2008/06/17/how-to-use-libjalali/#disqus_thread"
             data-disqus-identifier="http://slashmili.org/blog/2008/06/17/how-to-use-libjalali/">Comments</a>
        
      </p>
    
  </header>


  <div class="entry-content"><div class='post'>
About 2 years ago my friend <a href="http://ashkan.selfip.org/">Ashkan Ghassemi</a> developed a <a href="https://savannah.nongnu.org/projects/jcal">Jalali Calender</a> for use in terminal and as Eric S. Raymond says in his book <span style="font-weight: bold;">The Art of Unix Programming</span> : &#8220;Write simple parts connected by clean interfaces&#8221;, Ashkan  followed Raymond and create beautiful program .<br /><br />In a project I need to use that library so I get source file and install it, but there was no any documentation for developer. here I write fast tutorial :<br /><br /><code><font color="0000ff"><strong>#include<font color="#008000">&lt;jalali.h&gt;</font></strong></font><br /><font color="0000ff"><strong>#include<font color="#008000">&lt;stdio.h&gt;</font></strong></font><br /><strong>int</strong> <font color="#2040a0">main</font> <font color="4444FF">(</font><font color="4444FF">)</font><font color="4444FF"><strong>{</strong></font><br /><font color="#2040a0">j_date</font> <font color="#2040a0">jcal</font><font color="4444FF">;</font><font color="#2040a0">calc_current</font><font color="4444FF">(</font><font color="4444FF">&amp;</font><font color="#2040a0">jcal</font><font color="4444FF">)</font> <font color="4444FF">;</font><br /><font color="#2040a0">printf</font><font color="4444FF">(</font><font color="#008000">&quot;curentdate is :%d/%d/%d<font color="#77dd77">\n</font> &quot;</font>,<font color="#2040a0">jcal</font>.<font color="#2040a0">year</font>,<font color="#2040a0">jcal</font>.<font color="#2040a0">month</font>,<font color="#2040a0">jcal</font>.<font color="#2040a0">day</font><font color="4444FF">)</font><font color="4444FF">;</font><font color="4444FF"><strong>}</strong></font><br /></code><br />and after that compile this code :<br />cc jcaltest.c -I/usr/local/include/jalali/ -L/usr/local/lib/ -ljalali -o jalal.bin<br /><br />and run jalal.bin</div>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2008/06/02/configure-asterisk-and-zaptel-on-ubuntu/">Configure Asterisk and Zaptel on Ubuntu 6.*</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2008-06-02T00:00:00+08:00" pubdate data-updated="true">Jun 2<span>nd</span>, 2008</time>
        
           | <a href="/blog/2008/06/02/configure-asterisk-and-zaptel-on-ubuntu/#disqus_thread"
             data-disqus-identifier="http://slashmili.org/blog/2008/06/02/configure-asterisk-and-zaptel-on-ubuntu/">Comments</a>
        
      </p>
    
  </header>


  <div class="entry-content"><div class='post'>
Always I installed <a href="http://www.asterisk.org/">Asterisk</a> and <a href="http://www.zaptel.com">Zaptel</a> on Ubutnu 6.*, I got a error and couldn&#8217;t find  any files in folder /dev/zap/ !<br />Actually he said true ! because Zaptel file was in /dev/ folder.<br />When servers restart, I should create link to real device file(I try put this command on file rc.local but still had a problem on creating link). Until I goggled and find some manual for this problem.our problem will solved by udev.<br /><br />Create File : /etc/udev/rules.d/50-udev.rules<br /><code><br />KERNEL="zapctl",     NAME="zap/ctl" , GROUP = "asterisk"<br />KERNEL="zaptimer",   NAME="zap/timer" , GROUP = "asterisk"<br />KERNEL="zapchannel", NAME="zap/channel" , GROUP = "asterisk"<br />KERNEL="zappseudo",  NAME="zap/pseudo" , GROUP = "asterisk"<br />KERNEL="zap[0-9]*",  NAME="zap/%n" , GROUP = "asterisk"<br /></code><br /><br />Restart udev : /etc/init.d/udev restart<br /><br />Now every time server restart udev create device in place where Asterisk wanted.</div>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2008/05/04/script-for-removing-changed-host/">Script for Removing Changed Host Identification</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2008-05-04T00:00:00+08:00" pubdate data-updated="true">May 4<span>th</span>, 2008</time>
        
           | <a href="/blog/2008/05/04/script-for-removing-changed-host/#disqus_thread"
             data-disqus-identifier="http://slashmili.org/blog/2008/05/04/script-for-removing-changed-host/">Comments</a>
        
      </p>
    
  </header>


  <div class="entry-content"><div class='post'>
As I am working as a system administer this days and always had a problem with changing Remote Identification of servers, I write simple script which you can delete a line from your ~/.ssh/known_hosts<br /><br /><code><br />#!/bin/bash<br />#rm_known_hosts bash script<br />tmp_head=$(mktemp)<br />tmp_tail=$(mktemp)<br />tmp_dest=$(mktemp)<br /><br />file_name="$HOME/.ssh/known_hosts"<br />line_nums=$(cat $file_name | wc -l )<br /><br />cat $file_name | head -n`echo "$1 -1 " | bc ` > $tmp_head<br />cat $file_name | tail -n`echo "$line_nums - $1 "| bc` > $tmp_tail<br /><br />cat $tmp_head  > $tmp_dest<br />cat $tmp_tail >> $tmp_dest<br /><br />cp $tmp_dest $file_name<br /><br />#remove tmps<br />rm -f $tmp_head<br />rm -f $tmp_tail<br />rm -f $tmp_dest<br /></code><br /><br />for example run when you got error like this : <br /><code><br />@@@@@@@@@@@@@@@@@@@@@@@@@@@@@<br />@ WARNING: REMOTE HOST IDENTIFICATION HAS CHANGED!<br />@@@@@@@@@@@@@@@@@@@@@@@@@@@@@<br />IT IS POSSIBLE THAT SOMEONE IS DOING SOMETHING NASTY!<br />Someone could be eavesdropping on you right now (man-in-the-middle attack)!<br />It is also possible that the RSA host key has just been changed.<br />The fingerprint for the RSA key sent by the remote host is<br />ac:2c:99:de:a6:f4:7d:4a:81:93:7e:9c:67:a6:14:45.<br />Please contact your system administrator.<br />Add correct host key in /root/.ssh/known_hosts to get rid of this message.<br />Offending key in /root/.ssh/known_hosts:90<br />RSA host key for 10.10.10.10 has changed and you have requested strict checking.<br />Host key verification failed.<br /></code><br /><br />you just run<br /><code><br />./rm_known_hosts 90<br /></code><br />Life will be essayer with tiny scripts !</div>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2008/01/31/first-view-of-turebogears-framework/">First View of TurboGears Framework</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2008-01-31T00:00:00+08:00" pubdate data-updated="true">Jan 31<span>st</span>, 2008</time>
        
           | <a href="/blog/2008/01/31/first-view-of-turebogears-framework/#disqus_thread"
             data-disqus-identifier="http://slashmili.org/blog/2008/01/31/first-view-of-turebogears-framework/">Comments</a>
        
      </p>
    
  </header>


  <div class="entry-content"><div class='post'>
I am going to work some place which needs learning  <a href="http://turbogears.com/">TurboGears</a> framework.<br /><br />Before this I played with <a href="http://djangoproject.com/">Django</a> and until now that I am in chapter 5 from <a href="http://turbogearsbook.com/">Rapid Web Applications with TurboGears</a> book, I think  Django is more easy and faster.<br /><br />One thing that can be effect on selection of those, TG has a built-in AJAX widgets (I didn&#8217;t see any thing like <a href="http://cakephp.org/">CakePHP</a>&#8217;s build-in widgets until now)<br /><br />And other limitation I see in TG, you should insert all of your model in model.py file and all your controller in  controller.py file. when you working in a group, you will know how it&#8217;s bad idea, because all developer working in single file !<br /><br />Other reason I don&#8217;t like TG until now is TG using <a href="http://mochikit.com/">MochiKit</a> for JavaScript and AJAX. I like <a href="http://script.aculo.us/">script.aculo.us</a> much more and I have good style on that but it seems I should change my way :(<br /><br />Any way maybe I am newbie in TG and don&#8217;t know how it solve that problem and what is exactly it is !<br /><br />OH ! I forget to say, Django has a <a href="http://www.djangobook.com/">Free book</a>, but TG don&#8217;t.</div>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2008/01/21/how-to-show-list-of-blogger-labels-in/">How to Show List of Blogger&#8217; Labels in Our Server</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2008-01-21T00:00:00+08:00" pubdate data-updated="true">Jan 21<span>st</span>, 2008</time>
        
           | <a href="/blog/2008/01/21/how-to-show-list-of-blogger-labels-in/#disqus_thread"
             data-disqus-identifier="http://slashmili.org/blog/2008/01/21/how-to-show-list-of-blogger-labels-in/">Comments</a>
        
      </p>
    
  </header>


  <div class="entry-content"><div class='post'>
If you use blogger system, you know it add label and categorizing feature for posts.<br />And if you use blogspot hosting you able to list all labels beside your blog, but if you have your own hosting just show label in each post. but as you see in my blog I have it !<br /><code><span style="color: #000000"><br /><span style="color: #0000BB">&lt;?<br /></span><span style="color: #007700">function&nbsp;</span><span style="color: #0000BB">get_labels</span><span style="color: #007700">(</span><span style="color: #0000BB">$post_number</span><span style="color: #007700">=</span><span style="color: #0000BB">true</span><span style="color: #007700">,<br /></span>            <span style="color: #0000BB">$label_dir</span><span style="color: #007700">=</span><span style="color: #DD0000">'/home/yourusername/public_html/blog/labels'</span><span style="color: #007700">){<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$style</span><span style="color: #007700">[]=</span><span style="color: #DD0000">'font-size:8pt;'</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$style</span><span style="color: #007700">[]=</span><span style="color: #DD0000">'font-size:11pt;'</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$style</span><span style="color: #007700">[]=</span><span style="color: #DD0000">'font-size:12pt;'</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$style</span><span style="color: #007700">[]=</span><span style="color: #DD0000">'font-size:12pt;'</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$style</span><span style="color: #007700">[]=</span><span style="color: #DD0000">'font-size:5pt;'</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$style</span><span style="color: #007700">[]=</span><span style="color: #DD0000">'font-size:20pt;'</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$style</span><span style="color: #007700">[]=</span><span style="color: #DD0000">'font-size:24pt;'</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$ret</span><span style="color: #007700">=</span><span style="color: #DD0000">''</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$d&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">dir</span><span style="color: #007700">(</span><span style="color: #0000BB">$label_dir</span><span style="color: #007700">);<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;while&nbsp;(</span><span style="color: #0000BB">false&nbsp;</span><span style="color: #007700">!==&nbsp;(</span><span style="color: #0000BB">$entry&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">$d</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">read</span><span style="color: #007700">()))&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if(</span><span style="color: #0000BB">$entry</span><span style="color: #007700">==</span><span style="color: #DD0000">'.'&nbsp;</span><span style="color: #007700">or&nbsp;</span><span style="color: #0000BB">$entry</span><span style="color: #007700">==</span><span style="color: #DD0000">'..'</span><span style="color: #007700">)<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;continue;<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #0000BB">$ret</span><span style="color: #007700">.=&nbsp;</span><span style="color: #DD0000">"&lt;a&nbsp;href=\"http://yourdomain.com/blog/labels/$entry\"&nbsp;style=\""</span><span style="color: #007700">.<br /></span><span style="color: #0000BB">$style</span><span style="color: #007700">[</span><span style="color: #0000BB">rand</span><span style="color: #007700">(</span><span style="color: #0000BB">0</span><span style="color: #007700">,</span><span style="color: #0000BB">6</span><span style="color: #007700">)].</span><span style="color: #DD0000">"\"&gt;"</span><span style="color: #007700">.</span><span style="color: #0000BB">str_replace</span><span style="color: #007700">(</span><span style="color: #DD0000">'.php'</span><span style="color: #007700">,</span><span style="color: #DD0000">''</span><span style="color: #007700">,</span><span style="color: #0000BB">str_replace</span><span style="color: #007700">(</span><span style="color: #DD0000">'__'</span><span style="color: #007700">,</span><span style="color: #DD0000">'/'</span><span style="color: #007700">,</span><span style="color: #0000BB">$entry</span><span style="color: #007700">)).</span><span style="color: #DD0000">"&lt;/a&gt;\n"</span><span style="color: #007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;</span><span style="color: #0000BB">$ret</span><span style="color: #007700">;<br />}<br /></span><span style="color: #0000BB">?&gt;<br /></span></span></code>I created it a few month ago and now just copy and past it ! so I don&#8217;t remember what is variable $post_number doing ! (surely don&#8217;t effect in this function)</div>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2007/11/07/firehole-rocks/">FireHole ROCKS !</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2007-11-07T00:00:00+08:00" pubdate data-updated="true">Nov 7<span>th</span>, 2007</time>
        
           | <a href="/blog/2007/11/07/firehole-rocks/#disqus_thread"
             data-disqus-identifier="http://slashmili.org/blog/2007/11/07/firehole-rocks/">Comments</a>
        
      </p>
    
  </header>


  <div class="entry-content"><div class='post'>
I always had a problem with iptables !<br />For this reason about 3 years ago I bought <a href="http://www.oreilly.com/catalog/lnxiptablespr/">Linux iptables Pocket Reference</a> Book.<br />But I never read it completely, always read it until page 7-8 and after that I through it away !<br />A few days ago <a href="http://www.oreilly.com/catalog/lnxiptablespr/">Siavash</a> suggested me <a href="http://firehol.sourceforge.net/">FireHole</a>, I install it but didn&#8217;t use it until 1 hour ago   !<br />I used it for sharing internet connection.<br />It has too fast config ! it&#8217;s too cool !<br />FireHole&#8217;s document is enough good but I write down my config here (maybe you don&#8217;t like read that document because you are as lazy as me !) <br /><pre class="code"><br />#/etc/firehol/firehol.conf<br />version 5<br />#your LAN card config<br />home_ips="192.168.0.1/24"<br />&nbsp;<br />#my lan interface was eth2<br />interface eth2 home  src "${home_ips}"<br />        policy reject<br />        server "ssh ftp http"    accept #allow use this services from LAN to eth2<br />&nbsp;<br />#my internet interface was name ppp0 - don't change anything else !<br />interface ppp0 internet src not "${home_ips} ${UNROUTABLE_IPS}"<br />        protection strong 10/sec 10<br />        server          custom          fb              tcp/1511        default accept<br />        server          ident           reject          with            tcp-reset<br />        client          all             accept<br />&nbsp;<br />#we want share internet from ppp0 to our LAN (eth2)<br />router home2internet inface eth2 outface ppp0<br />        masquerade<br />        route all accept</pre><br />After this change, restart your firehole.<br /><br />If you just want share internet and don&#8217;t like face with this configs I suggest you <a href="http://parsix.org">Parsix</a> ics script.<br />All you thing you should do is &#8220;/etc/init.d/ics start&#8221; without any config !!!</div>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2007/10/28/save-your-dreams-with-dream-demon/">Save Your Dreams With Dream Demon !</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2007-10-28T00:00:00+08:00" pubdate data-updated="true">Oct 28<span>th</span>, 2007</time>
        
           | <a href="/blog/2007/10/28/save-your-dreams-with-dream-demon/#disqus_thread"
             data-disqus-identifier="http://slashmili.org/blog/2007/10/28/save-your-dreams-with-dream-demon/">Comments</a>
        
      </p>
    
  </header>


  <div class="entry-content"><div class='post'>
When I wake up today as my usual task I do in my computer, try to find logs in my brain !!!<br />Logs about my dreams saw last night !<br />I know, I will be mad soon<br />Anyway if you want run dream demon like me, run this code in your brain when you want sleep :<br /><pre class="code" id="codemain" style="margin: 6px;"><span class="keyword">import</span> dream<br /><span class="keyword">import</span> time<br /><span class="keyword">import</span> threading&nbsp;<br /><span class="keyword">class </span>Milad ( threading.Thread ):<br />        <span class="keyword">def</span> run ( self ):<br />                <span class="keyword">try</span> :<br />                        <span class="comment">#don't fear ! if you want wake up just want <br />                        #after that time.Wakeup exception will be happen</span><br />                        time.sleep(dream.ONE_YEAR)<br />                <span class="keyword">except</span> dream.StartStory story:<br />                        f=open(<span class="literal">"dreams.txt"</span>)<br />                        f.write(<span class="literal">"%s\n"</span>%(story))<br />                        f.close()<br />                        self.run()<br />                <span class="keyword">except</span> time.Wakeup :<br />                        <span class="keyword">pass</span>&nbsp;<br />Milad().start()</pre>of course don&#8217;t forget to change class name with your name, else I don&#8217;t know it would work for you or not !</div>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2007/10/28/play-with-your-gsm-cell-phone/">Play With Your GSM Cell Phone</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2007-10-28T00:00:00+08:00" pubdate data-updated="true">Oct 28<span>th</span>, 2007</time>
        
           | <a href="/blog/2007/10/28/play-with-your-gsm-cell-phone/#disqus_thread"
             data-disqus-identifier="http://slashmili.org/blog/2007/10/28/play-with-your-gsm-cell-phone/">Comments</a>
        
      </p>
    
  </header>


  <div class="entry-content"><div class='post'>
Tonight suddenly I interested in using <a href="http://en.wikipedia.org/wiki/AT_command">AT Command</a> on Cell Phone From Python.<br />It was so fantastic for me, I can connect to my Cell Phone. really Python powered me so much !<br /><br />All you need are Cell Phone and USB connector, when it connect, you could see device as /dev/ttyACM0  (or /dev/ttyACM[number] )<br />Don&#8217;t forget check your device connected correctly by this command :<pre>$ls -l /dev/ttyACM*<br />crw-rw---- 1 root dialout 166, 0 2007-10-28 00:40 /dev/ttyACM0</pre>And here is sample code which show Manufacturer, Model and IMEI of your Cell Phone.<br /><pre class="code" id="codemain" style="margin: 6px;"><span class="keyword">import</span> serial<br />&nbsp;<br /><span class="keyword">def</span> send(ser,command):<br />    <span class="keyword">if</span> ser.isOpen():<br />        ser.write(command)<br />        <span class="keyword">while</span> 1:<br />            out=ser.readline()<br />            <span class="keyword">if</span> out.strip()==<span class="literal">'OK\r\n'</span>:<br />                <span class="keyword">break</span>  <br />            <span class="keyword">if</span> out.strip()!=<span class="literal">''</span>:<br />                <span class="keyword">print</span> out<br />&nbsp;<br />ser=serial.Serial(<span class="literal">'/dev/ttyACM0'</span>)<br />ser.open()&nbsp;<br /><span class="keyword">if</span> ser.isOpen():<br />    send(ser,<span class="literal">'at+cgmi\r'</span>) <span class="comment">#Get Manufacturer<br /></span>    send(ser,<span class="literal">'at+cgmm\r'</span>) <span class="comment">#Get Model<br /></span>    send(ser,<span class="literal">'at+cgsn\r'</span>) <span class="comment">#Get IMEI<br /></span>ser.close()</pre><br />It&#8217;s my output :<pre><br />at+cgmi<br />Nokia<br />at+cgmm<br />Nokia 3230<br />at+cgsn<br />X5X399X06X34X5X (sorry I replace some numbers with X)</pre>It isn&#8217;t all you can do! see more AT Commands <a href="http://doc.trolltech.com/qtopia4.1/atcommands.html">here</a> also see <a href="http://pyserial.sourceforge.net/">pyserial</a> manual .</div>
</div>
  
  


    </article>
  
  <div class="pagination">
    
      <a class="prev" href="/blog/page/4/">&larr; Older</a>
    
    <a href="/blog/archives">Blog Archives</a>
    
    <a class="next" href="/blog/page/2/">Newer &rarr;</a>
    
  </div>
</div>
<aside class="sidebar">
  
    <section>
  <h1>Recent Posts</h1>
  <ul id="recent_posts">
    
      <li class="post">
        <a href="/blog/2013/11/17/unleash-the-daemons/">Unleash the Daemons</a>
      </li>
    
      <li class="post">
        <a href="/blog/2013/08/11/monitor-your-apps-behaviour/">Monitor Your App&#8217;s Behaviour</a>
      </li>
    
      <li class="post">
        <a href="/blog/2012/03/16/online-course-with-coursera/">Online Course With Coursera</a>
      </li>
    
      <li class="post">
        <a href="/blog/2012/03/16/monitor-zenoss-with-chrome-plugin/">Monitor Zenoss With Chrome&#8217;s Plugin</a>
      </li>
    
      <li class="post">
        <a href="/blog/2012/02/03/configure-and-manage-your-servers-in/">Configure and Manage Your Servers in a FLASH</a>
      </li>
    
  </ul>
</section>

<section>
  <h1>GitHub Repos</h1>
  <ul id="gh_repos">
    <li class="loading">Status updating&#8230;</li>
  </ul>
  
  <a href="https://github.com/slashmili">@slashmili</a> on GitHub
  
  <script type="text/javascript">
    $(document).ready(function(){
        if (!window.jXHR){
            var jxhr = document.createElement('script');
            jxhr.type = 'text/javascript';
            jxhr.src = '/javascripts/libs/jXHR.js';
            var s = document.getElementsByTagName('script')[0];
            s.parentNode.insertBefore(jxhr, s);
        }

        github.showRepos({
            user: 'slashmili',
            count: 0,
            skip_forks: true,
            target: '#gh_repos'
        });
    });
  </script>
  <script src="/javascripts/github.js" type="text/javascript"> </script>
</section>





  
</aside>

    </div>
  </div>
  <footer role="contentinfo"><p>
  Copyright &copy; 2013 - Milad Rastian -
  <span class="credit">Powered by <a href="http://octopress.org">Octopress</a></span>
</p>

</footer>
  

<script type="text/javascript">
      var disqus_shortname = 'militheblog';
      
        
        var disqus_script = 'count.js';
      
    (function () {
      var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
      dsq.src = '//' + disqus_shortname + '.disqus.com/' + disqus_script;
      (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    }());
</script>



<div id="fb-root"></div>
<script>(function(d, s, id) {
  var js, fjs = d.getElementsByTagName(s)[0];
  if (d.getElementById(id)) {return;}
  js = d.createElement(s); js.id = id; js.async = true;
  js.src = "//connect.facebook.net/en_US/all.js#appId=212934732101925&xfbml=1";
  fjs.parentNode.insertBefore(js, fjs);
}(document, 'script', 'facebook-jssdk'));</script>





  <script type="text/javascript">
    (function(){
      var twitterWidgets = document.createElement('script');
      twitterWidgets.type = 'text/javascript';
      twitterWidgets.async = true;
      twitterWidgets.src = '//platform.twitter.com/widgets.js';
      document.getElementsByTagName('head')[0].appendChild(twitterWidgets);
    })();
  </script>





</body>
</html>
