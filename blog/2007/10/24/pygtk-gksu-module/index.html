
<!DOCTYPE html>
<!--[if IEMobile 7 ]><html class="no-js iem7"><![endif]-->
<!--[if lt IE 9]><html class="no-js lte-ie8"><![endif]-->
<!--[if (gt IE 8)|(gt IEMobile 7)|!(IEMobile)|!(IE)]><!--><html class="no-js" lang="en"><!--<![endif]-->
<head>
  <meta charset="utf-8">
  <title>PyGTK Gksu Module - /mili</title>
  <meta name="author" content="Milad Rastian">

  
  <meta name="description" content="These days I am trying to use gksu from python but this module has no documention Until last night Behdad opened a new world to me ! he showed me &hellip;">
  

  <!-- http://t.co/dKP3o1e -->
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  
  <link rel="canonical" href="http://slashmili.org/blog/2007/10/24/pygtk-gksu-module">
  <link href="/favicon.png" rel="icon">
  <link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
  <link href="/atom.xml" rel="alternate" title="/mili" type="application/atom+xml">
  <script src="/javascripts/modernizr-2.0.js"></script>
  <script src="//ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
  <script>!window.jQuery && document.write(unescape('%3Cscript src="./javascripts/libs/jquery.min.js"%3E%3C/script%3E'))</script>
  <script src="/javascripts/octopress.js" type="text/javascript"></script>
  <!--Fonts from Google"s Web font directory at http://google.com/webfonts -->
<link href='https://fonts.googleapis.com/css?family=Noto+Serif:400,700' rel='stylesheet' type='text/css'>
<link href='https://fonts.googleapis.com/css?family=Open+Sans:400,700' rel='stylesheet' type='text/css'>

  
  <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-45055199-1']);
    _gaq.push(['_trackPageview']);

    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
  </script>


</head>

<body   >
  <header role="banner"><hgroup>
  <h1><a href="/">/mili</a></h1>
  
</hgroup>

</header>
  <nav role="navigation"><ul class="subscription" data-subscription="rss">
  
  
</ul>

<ul class="main-navigation">
  <li><a href="/">Blog</a></li>
  <li><a href="/blog/archives">Archives</a></li>
  <li><a href="/talks/">Talks</a></li>
</ul>

</nav>
  <div id="main">
    <div id="content">
      <div>
<article class="hentry" role="article">
  
  <header>
    
      <h1 class="entry-title">PyGTK Gksu Module</h1>
    
    
      <p class="meta">
        








  



<time datetime="2007-10-24T00:00:00+08:00" pubdate data-updated="true"></time>
        
      </p>
    
  </header>


<div class="entry-content"><div class='post'>
These days I am trying to use gksu from python but this module has no documention <br />Until last night <a href="http://mces.blogspot.com/">Behdad</a> opened a new world to me ! he showed me <a href="http://docs.python.org/lib/built-in-funcs.html" title="Find more detail in this page">help(&#8230;)</a>.<br />Any way I hope this sample code help you understand methods and relations between objects.<br /><br /><pre class="code" id="codemain" style="margin: 6px;"><span class="keyword">import</span> gtk<br /><span class="keyword">import</span> gksu<br /><span class="keyword">import</span> gksu.ui<br /><br /><span class="keyword">import</span> gobject<br />&nbsp;<br />dialog=gksu.ui.Dialog()<br />dialog.set_message(<span class="literal">"Hi dear geek\nTo do your request I need your root password !"</span>)<br />result=dialog.run()<br />&nbsp;<br />dialog.hide()<br /><span class="keyword">if</span> result==gtk.RESPONSE_OK:<br />        <span class="keyword">try</span>:<br />                cont=gksu.Context()<br />                <span class="comment">#default user is root<br /></span>                <span class="comment">#cont.set_user('root')</span><br />                cont.set_password(dialog.get_password())<br />                cont.set_command(<span class="literal">'synaptic'</span>)<br />                cont.sudo_run()<br />        <span class="keyword">except</span> gobject.GError , errormsg:<br />                <span class="keyword">print</span> errormsg</pre><br />When run this sample a new dialog open and ask root password from you after that if you give correct password open synaptic with root roles, else tarp in exception and give you error message in console</div>
</div>


  <footer>
    <p class="meta">
      
  

<span class="byline author vcard">Posted by <span class="fn">Milad Rastian</span></span>

      








  



<time datetime="2007-10-24T00:00:00+08:00" pubdate data-updated="true"></time>
      

<span class="categories">
  
    <a class='category' href='/blog/categories/pygtk/'>PyGTK</a>, <a class='category' href='/blog/categories/python/'>Python</a>
  
</span>


    </p>
    
      <div class="sharing">
  
  <a href="//twitter.com/share" class="twitter-share-button" data-url="http://slashmili.org/blog/2007/10/24/pygtk-gksu-module/" data-via="slashmili" data-counturl="http://slashmili.org/blog/2007/10/24/pygtk-gksu-module/" >Tweet</a>
  
  
  
</div>

    
    <p class="meta">
      
      
        <a class="basic-alignment right" href="/blog/2007/10/28/play-with-your-gsm-cell-phone/" title="Next Post: Play With Your GSM Cell Phone">Play With Your GSM Cell Phone &raquo;</a>
      
    </p>
  </footer>
</article>

</div>

  <aside class="sidebar">
   
<form action="http://google.com/search" method="get">
  <fieldset role="search">
    <input type="hidden" name="q" value="site:slashmili.org" />
    <input class="search" type="text" name="q" results="0" placeholder="Search"/>
  </fieldset>
</form>
  
  
    <section>
  <h1>About Me</h1>
  <p>You've reached Milad!<br/ >I'm software enthusiast and interested in free software movement.</p>
  <p>You may find more interesting stuff on my <a href="http://linkedin.com/in/miladrastian">Linkedin</a>, <a href="https://github.com/slashmili">Github</a> or <a href="https://twitter.com/slashmili">Twitter</a> pages.</p>
</section>
<section>
  <h1>Recent Posts</h1>
  <ul id="recent_posts">
    
      <li class="post">
        <a href="/blog/2016/03/11/error-handling-the-elixir-way/">Error Handling, the Elixir Way</a>
      </li>
    
      <li class="post">
        <a href="/blog/2016/02/06/elixir/">Elixir</a>
      </li>
    
      <li class="post">
        <a href="/blog/2014/12/07/find-and-replace-regex-group-match-in-vim/">Find and Replace Regex Group Match in VIM</a>
      </li>
    
      <li class="post">
        <a href="/blog/2014/11/23/dependency-manager-for-php/">Dependency Manager for PHP</a>
      </li>
    
      <li class="post">
        <a href="/blog/2014/06/16/debugging-application-crash-in-linux/">Debugging Application Crash in Linux</a>
      </li>
    
  </ul>
</section>




  
</aside>



    </div>
  </div>
  <footer role="contentinfo"><p>
  Copyright &copy; 2016 - Milad Rastian -
  <span class="credit">Powered by <a href="http://octopress.org">Octopress</a></span>
</p>

</footer>
  







  <script type="text/javascript">
    (function(){
      var twitterWidgets = document.createElement('script');
      twitterWidgets.type = 'text/javascript';
      twitterWidgets.async = true;
      twitterWidgets.src = '//platform.twitter.com/widgets.js';
      document.getElementsByTagName('head')[0].appendChild(twitterWidgets);
    })();
  </script>



<script>
  $(document).ready(function() {  
    var stickyNavTop = $('nav').offset().top;  
      
    var stickyNav = function(){  
      var scrollTop = $(window).scrollTop(); 
      var navHasClassSticky = $('nav').hasClass('sticky');

      if (scrollTop > stickyNavTop && navHasClassSticky) {   
        return true;
      } else if (scrollTop > stickyNavTop) {
        $('nav').hide();
        $('nav').addClass('sticky');
        $('nav').fadeIn('2000');
      } else {  
        $('nav').removeClass('sticky');   
      }  
    };  
      
    stickyNav();  
      
    $(window).scroll(function() {  
      stickyNav();  
    });  
  });  
</script>


</body>
</html>
